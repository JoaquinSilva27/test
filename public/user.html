<!-- public/user.html -->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Usuario</title>
    <link rel="stylesheet" href="css/user.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="icon" type="image/png" href="img/pagicon.png">
</head>
<body>

    <!-- Sidebar Container -->
    <div id="sidebar-container" class="sidebar">
        <header class="sidebar-header">MENU
        </header>
        <nav>
            <a href="#"onclick="showMsj()">Inicio</a>
            <a href="#"onclick="showpa()">Pagar</a>
            <a href="#"onclick="showpe()">Perfil</a>
            <a href="#"onclick="showmd()">Mis datos</a>
            <a href="#"onclick="showhdp()">Historial de pagos</a>
        </nav>
    </div>
    
    <!-- Main Content Container -->
    <div id="content-container" class="main-content">
        <header class="main-header">
            <div class="logo-menu">
                <span class="icon-menu" onclick="toggleSidebar()">☰</span>
                <h2 class="logo">Riego Maule Sur</h2>
            </div>
            <nav class="navegacion">
                <a href="index.html">Inicio</a>
                <button class="btnLogin-popup" onclick="window.location.href='login.html';">Cerrar Sesion</button>
            </nav>
        </header>


        <!-- Inicio -->
        <div class="contenedor contenedor-vacio" id="contenedor" style="display: block;">
            <h2 class="mensaje-inicio" id="mensaje-inicio">
                ¡Bienvenido/a Usuario :D!
            </h2>
            <div id="mensaje-error" style="display:none; color: rgb(75, 212, 236); text-align: center; margin-top: 10px;"></div>
        </div>
        <!-- Pagar -->
        <div class="contenedor" id="pagar-contenedor" style="display:none;">
            <div class="contenedor-form user">
                <h2>Paga seguro, paga hoy <span id="userNamePago">usuario</span></h2>
                <div class="informacion_usuario">
                    <h3>Deuda total: <span id="debtAmount">0</span></h3>
                </div>
                <!-- Nueva sección para ingresar el monto a pagar -->
                <div class="pago-form">
                    <label for="amountInput">Cantidad a pagar:</label>
                    <input type="number" id="amountInput" placeholder="Ingrese la cantidad" />
                    <button type="button" class="btn-pago" onclick="realizarPago()">Pagar</button>
                    <div id="paymentMessage"></div>
                </div>
                <div class="pago-footer">
                    <p>Pago seguro</p>
                    <img src="/img/credito.png" alt="credito" />
                    <img src="/img/pago.png" alt="pago" />
                    <img src="/img/paypal.png" alt="paypal" />

                </div>
            </div>
        </div>
        <!-- Perfil -->
        <div class="contenedor-perfil" id="perfil-contenedor" style="display:none;">
            <div class="perfil-header">
            <div class="foto-perfil">
                <img src="img/perfil.png" alt="Foto de perfil" class="imagen-redonda">
            </div>
            <h2 class="nombre-usuario" id="nombre-usuario">Cargando...</h2>
            </div>
            <div class="perfil-datos">
            <p><strong>Canal:</strong> <span id="perfil-canal">Cargando...</span></p>
            <p><strong>Directiva:</strong> <span id="perfil-directiva">Cargando...</span></p>
            <p><strong>Comuna:</strong> <span id="perfil-comuna">Cargando...</span></p>
            <p><strong>Región:</strong> <span id="perfil-region">Cargando...</span></p>
            </div>
        </div>
        <!-- Mis Datos -->
        <div class="contenedor" id="mis-datos-contenedor" style="display:none;">
            <div class="contenedor-datos">
                <h2>Mis Datos</h2>
                <ul class="lista-datos">
                    <li><strong>RUT:</strong> <span id="mis-datos-rut">Cargando...</span></li>
                    <!--<li><strong>Rol:</strong> <span id="mis-datos-rol">Cargando...</span></li>-->
                    <li><strong>Nombre:</strong> <span id="mis-datos-nombre">Cargando...</span></li>
                    <li><strong>Apellido Paterno:</strong> <span id="mis-datos-apellido-paterno">Cargando...</span></li>
                    <li><strong>Apellido Materno:</strong> <span id="mis-datos-apellido-materno">Cargando...</span></li>
                    <li><strong>Región:</strong> <span id="mis-datos-region">Cargando...</span></li>
                    <li><strong>Correo:</strong> <span id="mis-datos-correo">Cargando...</span></li>
                    <li><strong>Teléfono:</strong> <span id="mis-datos-telefono">Cargando...</span></li>

                </ul>
                <button class="btn" onclick="mostrarMantenimiento()">Solicitar cambio de datos</button>
            </div>
        </div>
        <!-- Historial -->
        <div class="contenedor" id="historial-pagos-contenedor" style="display:none;">
            <div class="contenedor-historial">
                <h2>Historial de Pagos</h2>
                <table id="paymentHistoryTable">
                    <thead>
                        <tr> <!-- no pregunten que pasó aqui -->
                            <th>Operación‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ </th>
                            <th>Fecha de pago‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ ‎ </th>
                            <th>Monto</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- las filas se crean solas lol -->
                    </tbody>
                </table>
            </div>
        </div>
    <!-- Contenedor para el mensaje -->
    <div id="loader" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; background-color: rgba(255, 255, 255, 0.9); z-index: 9999;">
        <h2>Cargando...</h2>
    </div>

    <div id="mensaje-error" style="display:none; color: rgb(75, 212, 236); text-align: center; margin-top: 10px;"></div>

    

        <script src="js/user.js"></script>
        <script src="js/sidebar.js"></script>
</body>
</html>
